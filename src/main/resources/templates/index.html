<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Title</title>

  <link rel="stylesheet" type="text/css" th:href="@{css/index.css}" href="../static/css/index.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;500;600&display=swap" rel="stylesheet">
</head>
    <body>

        <div class="limiter">
            <div class="wrapper">
<!--                Верхняя панель-->
                <div class="top_panel">

                    <div class="panel_section">
<!--                    Логотип в верхней панели-->
                        <div class="logo_container">
                            <a class="logo_text" th:href="@{/}" href="index.html">
                                DEXTERITY
                            </a>
                        </div>
                    </div>

                    <div class="panel_section">
<!--                    Фото профиля (выпадающий список)-->
                      <p class="profile_username">
                        <th:block th:text="${username.toString()}"></th:block>
                      </p>
                      <nav class="profile">
                        <ul>
                          <li>
                            <img th:if="${!#strings.equals(username, 'anonymousUser')}" th:src="'/images/' + ${filename.toString()}" class="profile_photo"/>
                            <img class="profile_photo" th:if="${#strings.equals(username, 'anonymousUser')}" th:src="@{/images/anon.jpg}" src="../static/images/anon.jpg"/>
                            <ul>
                              <li>
                                <a th:href="@{/file/upload}" href="../templates/personal_area.html">Личный кабинет</a>
                              </li>
                              <th:block th:if="${!#strings.equals(username, 'anonymousUser')}">
                                <li>
                                  <a th:href="@{/logout}">Выйти</a>
                                </li>
                              </th:block>
                              <th:block th:if="${#strings.equals(username, 'anonymousUser')}">
                                <li>
                                  <a th:href="@{/login}" href="login.html">Войти</a>
                                </li>
                              </th:block>
                            </ul>
                          </li>
                        </ul>
                      </nav>
                    </div>
                </div>

<!--                Блок задач-->
                <div class="task_main">
<!--                    Заголовок блока-->
                    <div class="block_header">
                        Список задач
                    </div>
<!--                        Блок самого задания-->
                    <div class="task_body">
                        <th:block th:each="task : ${taskList}">
                            <div class="task" th:if="${task.getDifficult() == 1}">
                              <a class="tb_text" th:text="${task.getShortDescription()}">We'll get an exception during compile-time saying that the firstArticle is null:</a>
                              <span style="color: darkgreen">Легко</span>
                            </div>
                            <div class="task" th:if="${task.getDifficult() == 2}">
                              <a class="tb_text" th:utext="${task.getShortDescription()}"></a>
                              <span style="color: #646200">Средне</span>
                            </div>
                            <div class="task" th:if="${task.getDifficult() == 3}">
                                <a class="tb_text" th:text="${task.getShortDescription()}"></a>
                              <span style="color: #640000">Трудно</span>
                            </div>
                        </th:block>
                    </div>
                    <div class="btn_container">
                        <a th:href="@{../offers}" href="../templates/offers.html" class="btn">
                            Предложить задание
                        </a>
                    </div>
                </div>

<!--                Блок описания задачи-->
                <div class="description_main">
<!--                    Заголовок блока-->
                    <div class="block_header">
                        Описание
                    </div>

                    <div class="description_body">
                        <div class="description">
                            <p id="long_description" class="db_text">
                            </p>
                        </div>
                    </div>
                    <div class="btn_container">
                        <a th:href="@{/execute}" href="../templates/execute.html" class="btn" th:if="${!username.toString().equals('anonymousUser')}">
                            Приступить к выполнению
                        </a>
                        <a class="btn_disable" th:if="${username.toString().equals('anonymousUser')}">
                            Приступить к выполнению (неактивна)
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <script type="text/javascript" th:src="@{js/jquery.js}" src="../static/js/jquery.js"></script>
        <script type="text/javascript" th:src="@{js/typed.js}" src="../static/js/typed.js"></script>
        <script type="text/javascript" th:src="@{js/main.js}" src="../static/js/main.js"></script>
    </body>
</html>